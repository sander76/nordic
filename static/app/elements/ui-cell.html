<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../styles/app-theme.html">
<link rel="import" href="pv-keypad.html">
<link rel="import" href="pv-image.html">
<link rel="import" href="pv-text.html">
<dom-module id="ui-cell">
    <style include="iron-flex iron-flex-alignment"></style>

    <style>
         :host {
            align-self: stretch;
        }

        img {
            max-width: 100%;
            max-height: 100%;
        }

        

        
        

        
    </style>
    <template>
        <!--<template is="dom-if" hidden$="[[!isType(data,'image',0)]]">
            <div class="container">
                <img class="instr_img" src="[[data.src]]"/>
            </div>
        </template>-->
        <pv-image data="[[data]]"></pv-image>
<pv-text data="[[data]]"></pv-text>
        <!--<div hidden$="[[isType(data,'text',0)]]">
            <div class="container layout horizontal">
                <span class="bullet">[[data.content.bullet]]</span>

                <marked-element markdown="[[data.content.content]]">
                    <div class="markdown-html flex"></div>
                </marked-element>
            </div>
        </div>-->
                <pv-keypad data="[[data]]"></pv-keypad>
        
        <!-- <template is="dom-if" if="[[isType(data,'remote')]]">
                <pv-remote active="[[active]]"></pv-remote>
            </template> -->
        <!--<template is="dom-if" if="[[isType(data,'navbutton')]]">
            <nav-button active="[[active]]" data="[[data]]">[[data.caption]]
                <small>([[data.keys]])</small>
            </nav-button>
        </template>-->
    </template>
    <script>
        Polymer({
            is: 'ui-cell',
            properties: {
                data: {
                    type: Object,
                    value: {},
                    observer: '_dataChanged'
                },
                idx:{type:Number}
            },

            _dataChanged:function(_new,_old){

                console.log("data changed in row "+ this.idx +" column " + this.id);
                
            },

            ready: function () {
                this.checkWidth();
            },
            checkWidth: function () {
                if (this.data !== undefined) {
                    if (this.data.width !== undefined) {
                        this.setAttribute("style", "width:" + this.data.width);
                    }
                }
            },
            // isType: function (instruction, _type, iftrue = true) {
                
            //     var tr = instruction.type === _type;
            //     if (iftrue) {
            //         return tr;
            //     } else {
            //         return !tr;
            //     }

            // }

        });
    </script>
</dom-module>